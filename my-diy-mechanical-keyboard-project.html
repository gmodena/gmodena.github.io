<!DOCTYPE html>
<html lang="en">
  <head>
    <link href='http://fonts.googleapis.com/css?family=Noticia+Text:400,700' rel='stylesheet' type='text/css' />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title> My DIY mechanical keyboard project | nowave.it </title>

    <link rel="stylesheet" href="./theme/css/style.css" type="text/css" />
    <link rel="stylesheet" href="./theme/css/pygments.css" type="text/css" />
    <link rel="stylesheet" href="./theme/css/font-awesome.css" type="text/css"/>
  </head>
  <body>
    <div class=container>
<div class="header">
    <a href="./">nowave.it</a> <span class="muted"></span>
</div>

<div class=navigation>
    <ul>
    </ul>
</div>
<div class=separator></div>        
        <div class=body>
    <h1 class="title"> My DIY mechanical keyboard project</h1>
    <p class=date> Fri 06 July 2018 </p>
    <p>Some notes on assembling a DIY programmable mechanical keyboard based on the <a href="http://blog.komar.be/projects/gh60-programmable-keyboard/">GH60 Rev. c</a> pcb.</p>
<h2>60% Keyboards</h2>
<p>I wanted a mechanical keyboard for a while, and towards the end of 2017 I made the mistake of looking for advice on <a href="https://www.reddit.com/r/MechanicalKeyboards/">r/MechanicalKeyboards</a>. My initial idea was to buy a stock 104 key DAS Keyboard. I ended up soldering together 
a custom 60% programmable keyboard. </p>
<p>As the name suggests, this type of keyboard is 60% the size of a regular 104 keys one. Noticeably the numpad, arrow keys, and <code>F1</code> through <code>F12</code> keys are missing. Their functionality is provided by remapping keys on <em>layers</em>, accessible via function keys. For example on my keyboard arrow keys functionality is accessible on "layer 1", by pressing <code>fn</code> + <code>wasd</code>. </p>
<p>The assembled board looks like this
<img alt="gh60 assembled" src="images/gh60/gh60.jpg" /></p>
<p>Building it is relatively simple, and there are a few tutorials online. However, most of them refer to a clone of GH60 (the Satan board). There were a couple of things I had to figure out on the fly, that were not mentioned elsewhere. Hence these notes.</p>
<h2>Stuff you'll need</h2>
<p>I bought the PCB, switches and stabilizer from <a href="https://techkeys.us">Techkeys</a>. The rest comes from Aliexpress and local shops.</p>
<h3>Tools</h3>
<ul>
<li>Soldering iron.</li>
<li>Soldering wire.</li>
<li>Tweezers.</li>
<li>Wire cutter.</li>
<li>Screwdriver.</li>
</ul>
<h3>Hardware</h3>
<ul>
<li><a href="http://blog.komar.be/projects/gh60-programmable-keyboard/">GH60 Rev. c</a> programmable board. I went for the "original" pcb sold on <a href="https://techkeys.us">Techkeys</a>.</li>
<li>Gateron Brown switches.</li>
<li>GH60 plate mount.</li>
<li>Black Poker replica plastic case.</li>
<li>Stabilizers for the spacebar, enter, left/right shift and tab. You'll need these to make sure that the bigger keys won't wiggle around when you click them.</li>
<li>ANSI layout keycaps. </li>
<li>1.8mm white diffused LEDs.</li>
<li>180 Ohm resistors. You'll need these if you want to use LEDs.</li>
<li>Mini-usb cable.</li>
</ul>
<p><img alt="parts" src="images/gh60/parts.jpg" /></p>
<h3>Software</h3>
<p>There's a number of opensource firmware available for keyboards based on the Atmel AVR microcontroller.
Popular choices are <a href="https://github.com/tmk/tmk_keyboard">tmk</a>, <a href="https://qmk.fm">qmk</a> and <a href="https://github.com/dhowland/EasyAVR">EasyAvr</a>. Currently I'm using tmk.</p>
<p>A binary image of the firmware can be flashed using the <code>dfu-programmer</code> utility (<a href="https://dfu-programmer.github.io">https://dfu-programmer.github.io</a>). It's available via homebrew on MacOS and via the repos of all major linux distributions. Each firmware will provide instructions for flashing.</p>
<h2>Assembly</h2>
<p>Before starting with soldering, make sure that the board is functional. The gh60 pcb from Techkeys comes with no firmware installed. The first thing to do is to flash it, connect it
 62 to a computer and verify that all keys register. Use a pair of tweezers (or anything conductive) to touch the two pins of each key together.</p>
<p><img alt="pins" src="images/gh60/pins.jpg" /></p>
<p>I used the tester at <a href="http://www.keyboardtester.com">http://www.keyboardtester.com</a> to make sure everything worked fine.</p>
<h3>Resistors</h3>
<p>Resistors need to be soldered before mounting the keyboard plate.</p>
<p>The pins are well marked on the pcb and it's hard to go wrong.
Here's a nice intro on soldering resistors <a href="https://www.youtube.com/watch?v=3RV3AI-3zeA&amp;t=337sl">thttps://www.youtube.com/watch?v=3RV3AI-3zeA&amp;t=337s</a> if you have never done that before.</p>
<p><img alt="resistors" src="images/gh60/resist.jpg" />.</p>
<h3>Stabilizers and mount plate</h3>
<p>Just click the stabilizers in the pcb slots, they clip in one direction only. The <code>SPACEBAR</code> should be mounted with the stabilizer bar facing upwards, other stabilizers will have their bar pointing downwards. Once done, clip the mount plate over them. </p>
<p><img alt="plate mount" src="images/gh60/plate_mount.jpg" /></p>
<p>Make sure to clip stabilizers in <em>before</em> doing any soldering.</p>
<h3>LEDs</h3>
<p>The board supports LEDs on <code>ESC</code>, <code>CAPS LOCK</code>, the <code>WASD</code> cluster and <code>POKER</code> cluster (the right shift
and three keys under it). Mounting LEDs is a bit of a chore. We need to disassemble each switch, stick an LED inside, put it all back together and solder the key and LED pins to the board. </p>
<p><img alt="open key" src="images/gh60/open_key.jpg" />
<img alt="led in key" src="images/gh60/led_in_key.jpg" /></p>
<p>Polarity of the LED pins is marked, but it's always a good idea to test things before soldering.
There is not much space inside the switch, but I found that 1.8mm fit just right.</p>
<h3>Keys</h3>
<p>Now it's just a matter of inserting the switches in their slots (be careful with their polarity!), paying attention not to bend pins, and patiently solder them. </p>
<p><img alt="open key" src="images/gh60/keys_soldered.jpg" /> </p>
<p>The switches I bought came with PCB mount pegs, which I cut off to mount them on the plate.</p>
<h3>Case</h3>
<p>Place the assembled board in the case and fix 6 screws. That's it.</p>
<h2>Conclusion</h2>
<p>All in all, this was a fun DIY project. I'm happy with the keyboard. The compact layout goes well with the VIM keybindings I use in my editors and shell, and the brown switches are an absolute joy to type on. I have not done any heavy layer customisation yet, but I've seen a few interesting layouts online which I'm looking forward to replicating.</p>
    
        </div>
        
<div class=footer>
   <div class="contact">
      <p>
        &raquo;
        <a href="mailto:gm@nowave.it">gm@nowave.it</a> |
        <a href="http://github.com/gmodena" target="_blank">github.com/gmodena</a> |
        <a href="http://twitter.com/gabriele_modena" target="_blank">http://twitter.com/gabriele_modena</a>
        &laquo;
      </p>
    </div>
  <p>&copy; Copyright <script language="JavaScript">var date = new Date(); document.write(date.getFullYear());</script> by Gabriele Modena</p>
  <p>  
    <a href="https://github.com/fjavieralba/flasky">Theme</a>  by <a href="http://fjavieralba.com">fjavieralba</a> (Modified)
  </p> 
<!--
  <p>
    <div class=social style="font-size: 27px;">
      <ul>
        <script language="JavaScript">
          u = '';
          s = '';
          document.write('<a href=\"mailto:' + u + '@' + s + '\" target=\"_blank\">');
        </script>
            <li><i class="icon-envelope icon-large"></i> </li>
        </a>
        <a href="http://twitter.com/" target="_blank"> <li> <i class="icon-twitter-sign icon-large"> </li></i> </a>
        <a href="" target="_blank"><li><i class="icon-linkedin-sign icon-large" ></i></li></a>
        <a href="" target="_blank"> <li> <i class="icon-github-sign icon-large"></i> </li> </a>
        <a href="" target="_blank"><li> <i class="icon-facebook-sign icon-large"></i></li> </a>
        <a href="" target="_blank"><li><i class="icon-google-plus-sign icon-large"></i> </li> </a>
        <a href="" target="_blank"><li><i class="icon-pinterest-sign icon-large"></i></li></a>


        <a href="./feeds/all.rss.xml" rel="alternate" title="Recent Blog Posts"><li> <i class="icon-rss icon-large"></i> </li></a>
      </ul>
    </div>
  </p>
-->
</div>    </div>
      <script>
         (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
         (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

         ga('create', 'UA-56891536-1', 'auto');
        ga('send', 'pageview');

   /**
    * Function that tracks a click on an outbound link in Google Analytics.
    * This function takes a valid URL string as an argument, and uses that URL string
    * as the event label.
    */
    var trackOutboundLink = function(url) {
       ga('send', 'event', 'outbound', 'click', url, {'hitCallback':
         function () {
         document.location = url;
         }
       });
    }
	</script>
  </body>
</html>
